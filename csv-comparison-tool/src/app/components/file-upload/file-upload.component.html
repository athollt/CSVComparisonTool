<mat-card class="upload-container">
  <mat-card-content>
    <div
      class="drop-zone"
      [class.dragging]="isDragging"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
    >
      <ng-container *ngIf="!files.length; else fileList">
        <div class="upload-prompt">
          <mat-icon>cloud_upload</mat-icon>
          <h3>Drag and drop two CSV files here</h3>
          <p>or</p>
          <button mat-raised-button color="primary" (click)="fileInput.click()">
            Select Files
          </button>
          <input
            #fileInput
            type="file"
            multiple
            accept=".csv"
            (change)="onFileSelected($event)"
            style="display: none"
          >
        </div>
      </ng-container>
      <ng-template #fileList>
        <div class="file-list">
          <h3>Selected Files:</h3>
          <div class="file-item" *ngFor="let file of files; trackBy: trackFile">
            <mat-icon>description</mat-icon>
            <span>{{ file.name }}</span>
          </div>
          <button mat-button color="warn" (click)="resetFiles()">
            Clear Files
          </button>
        </div>
      </ng-template>
    </div>
  </mat-card-content>
</mat-card>
